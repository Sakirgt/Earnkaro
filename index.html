<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://kulroakonsu.net/88/tag.min.js" data-zone="143565" async data-cfasync="false"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Spin & Earn + Tasks</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body>

    <!-- Header -->
    <header class="app-header-unique">
        <span class="app-title">Spin & Earn</span>
        <div class="header-right-controls hidden" id="user-info-header">
             <span class="token-balance">
                 <i class="fas fa-coins"></i> Tokens: <span id="user-token-display-header">0</span>
             </span>
             <button id="nav-profile-header" class="header-profile-button">
                 <i class="fas fa-user"></i> Profile
             </button>
        </div>
    </header>

    <!-- Authentication Section -->
    <div id="authSection">
         <!-- ... (Auth forms remain the same) ... -->
         <div id="signupForm" class="content-section">
            <h2>Sign Up</h2>
            <input type="email" id="signup-email" placeholder="Email" required class="main-action-button">
            <input type="password" id="signup-password" placeholder="Password (min. 6 characters)" required class="main-action-button">
            <input type="text" id="signup-referral-code" placeholder="Referral Code (Optional)" class="main-action-button">
            <button id="signup-button" class="main-action-button">Create Account</button>
            <p class="feedback" id="signup-feedback"></p>
            <p>Already have an account? <button id="show-login-button">Login</button></p>
        </div>
        <div id="loginForm" class="content-section hidden">
            <h2>Login</h2>
            <input type="email" id="login-email" placeholder="Email" required class="main-action-button">
            <input type="password" id="login-password" placeholder="Password" required class="main-action-button">
            <button id="login-button" class="main-action-button">Login</button>
            <p class="feedback" id="login-feedback"></p>
            <p>Don't have an account? <button id="show-signup-button">Sign Up</button></p>
        </div>
    </div>

    <!-- Main Content Area (Home Screen) -->
    <div id="mainContent" class="hidden">
        <div id="bannerAdMainTop" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Top)</p> </div>

        <section class="content-section"> <!-- Section containing Welcome, Tasks, Watch Ad -->
             <h2>Welcome Back!</h2>
             <p style="text-align: center; margin-bottom: 15px;">Your Referral Code: <strong id="user-referral-code-display" style="color:#00ff88;">...</strong></p>

             <!-- Integrated Features/Tasks Section (Reduced) -->
             <h3 class="section-subtitle">Quick Tasks</h3>
             <div class="features">
               <button class="feature-btn" id="feature-surveys">
                 <div class="feature-icon"><i class="fas fa-clipboard-list"></i></div>
                 <div class="feature-text">Surveys</div>
               </button>
               <button class="feature-btn" id="feature-offerwalls">
                 <div class="feature-icon"><i class="fas fa-wallet"></i></div>
                 <div class="feature-text">OfferWalls</div>
               </button>
             </div>

             <!-- MOVED Watch Ad Button Here -->
             <button class="main-action-button" id="watchAdMainButton" style="margin-top: 20px;">
                 <i class="fas fa-play-circle"></i> Watch Ad & Get Reward (0/20)
             </button>
        </section>

        <section class="content-section daily-checkin-section">
            <!-- ... (Daily Check-in content remains the same) ... -->
            <h3 class="section-subtitle">Daily Check-In</h3>
            <div class="checkin" id="daily-checkin-display">
              <div class="day"> <div class="circle completed"><i class="fas fa-check"></i></div> <div class="day-label">Day 1</div> </div>
              <div class="day"> <div class="circle completed"><i class="fas fa-check"></i></div> <div class="day-label">Day 2</div> </div>
              <div class="day"> <div class="circle today" id="today-checkin-circle"><i class="fas fa-gift"></i></div> <div class="day-label">Today</div> </div>
              <div class="day"> <div class="circle upcoming">20</div> <div class="day-label">Day 4</div> </div>
              <div class="day"> <div class="circle upcoming">25</div> <div class="day-label">Day 5</div> </div>
               <div class="day"> <div class="circle upcoming">30</div> <div class="day-label">Day 6</div> </div>
               <div class="day"> <div class="circle upcoming">50</div> <div class="day-label">Day 7</div> </div>
            </div>
            <button id="claim-daily-reward-button" class="main-action-button" disabled style="margin-top: 15px;">Claim Daily Reward</button>
            <p id="daily-reward-feedback" class="feedback" style="text-align: center; margin-top: 10px;"></p>
        </section>

         <div id="bannerAdMainMiddle" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Middle)</p> </div>
         <div id="bannerAdMainBottom" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Bottom)</p> </div>
    </div>

    <!-- NEW Games Hub Section -->
    <div id="gamesHubSection" class="content-section hidden">
        <div id="bannerAdGamesHubTop" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Games Hub Top)</p> </div>
        <h2>Play Games</h2>
        <p style="text-align: center; color: #ccc; margin-bottom: 20px;">Choose a game to play and earn tokens!</p>

        <!-- UPDATED Button Structure with YOUR IMG file names -->
     <!-- NEW Button Structure with Font Awesome Icons -->
<button id="playTttBtn" class="main-action-button game-card-button">
    <span class="game-card-icon">
        <!-- Using Font Awesome icon -->
        <i class="fas fa-border-all"></i> <!-- Tic Tac Toe grid icon -->
    </span>
    <span class="game-card-text">Play Tic Tac Toe</span>
</button>
<button id="playGkQuizBtn" class="main-action-button game-card-button" style="margin-top: 15px;">
     <span class="game-card-icon">
         <!-- Using Font Awesome icon -->
         <i class="fas fa-brain"></i> <!-- Brain icon for Quiz -->
     </span>
     <span class="game-card-text">Play GK Quiz</span>
</button>
<!-- End of NEW Button Structure -->

        <div id="bannerAdGamesHubBottom" class="ad-container banner-ad hidden" style="margin-top: 25px;"> <p>Banner Ad Area (Games Hub Bottom)</p> </div>
    </div>

    <!-- Tic Tac Toe Game Section -->
    <section id="tttSection" class="game-section hidden">
        <!-- ... (TTT content remains the same) ... -->
        <div id="bannerAdTttTop" class="ad-container banner-ad hidden"> <p>Banner Ad Area (TTT Top)</p> </div>
        <div class="game-container">
            <h2>Tic Tac Toe</h2>
            <div class="game-info"> <div class="status" id="tttStatus">Your Turn (X)</div> <div class="level-display">Level: <span id="tttCurrentLevel">1</span>/<span id="tttMaxLevel">10</span></div> </div>
            <div class="game-board" id="tttGameBoard"> <div class="cell" data-index="0"></div> <div class="cell" data-index="1"></div> <div class="cell" data-index="2"></div> <div class="cell" data-index="3"></div> <div class="cell" data-index="4"></div> <div class="cell" data-index="5"></div> <div class="cell" data-index="6"></div> <div class="cell" data-index="7"></div> <div class="cell" data-index="8"></div> </div>
            <div class="controls"> <button class="restart-button" id="tttRestartButton">Restart Level</button> <button class="back-button" id="tttBackToMenuBtn">Back to Menu</button> </div>
            <p id="ttt-ad-status" class="feedback" style="margin-top: 15px; min-height: 1.2em;"></p>
        </div>
         <div id="bannerAdTttBottom" class="ad-container banner-ad hidden"> <p>Banner Ad Area (TTT Bottom)</p> </div>
    </section>

    <!-- GK Quiz Game Section -->
    <section id="gkQuizSection" class="game-section hidden">
         <!-- ... (GK Quiz content remains the same) ... -->
         <div id="bannerAdGkQuizTop" class="ad-container banner-ad hidden"> <p>Banner Ad Area (GK Quiz Top)</p> </div>
        <div class="game-container">
            <h2>GK Quiz Challenge</h2>
            <div class="quiz-info"> <div>Tokens: <span id="gkQuizTokens">0</span></div> <div>Q: <span id="gkQuestionNumber">1</span>/<span id="gkTotalQuestions">?</span></div> </div>
            <div class="question-area"> <p id="gkQuestionText">Loading...</p> </div>
            <div class="options-area" id="gkOptionsContainer"> </div>
            <div class="feedback" id="gkFeedback">Select an answer!</div>
            <p id="gk-ad-status" class="feedback" style="margin-top: 15px; min-height: 1.2em;"></p>
            <div class="controls"> <button id="gkNextButton" class="hidden">Next Question</button> <button class="back-button" id="gkQuizBackToMenuBtn">Back to Menu</button> </div>
        </div>
         <div id="bannerAdGkQuizBottom" class="ad-container banner-ad hidden"> <p>Banner Ad Area (GK Quiz Bottom)</p> </div>
    </section>

    <!-- Profile Section -->
    <section id="profileSection" class="content-section hidden">
        <!-- ... (Profile content remains the same) ... -->
        <div id="bannerAdProfile" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Profile)</p> </div>
        <h2>My Profile</h2>
        <div class="profile-avatar-section">
            <img id="profile-avatar-img" src="placeholder-avatar.png" alt="Avatar" class="profile-avatar">
             <label for="avatar-upload-input" class="main-action-button avatar-change-button">
                 <i class="fas fa-camera"></i> Change Avatar
             </label>
            <input type="file" id="avatar-upload-input" accept="image/*" style="display: none;">
            <p id="avatar-upload-status" class="feedback" style="font-size: 0.8em;"></p>
        </div>
        <div class="profile-details">
            <p><strong>Email:</strong> <span id="profile-email-display">...</span></p>
            <div class="profile-detail-edit">
                 <p><strong>Name:</strong> <span id="profile-name-display">...</span></p>
                 <button id="edit-name-button" class="edit-button"><i class="fas fa-pencil-alt"></i></button>
            </div>
            <div id="edit-name-form" class="hidden" style="margin-top: 5px;">
                <input type="text" id="edit-name-input" placeholder="Enter new name" class="main-action-button" style="margin-bottom: 5px;">
                <button id="save-name-button" class="main-action-button small-button">Save</button>
                <button id="cancel-edit-name-button" class="main-action-button small-button secondary">Cancel</button>
            </div>
            <p><strong>My Tokens:</strong> <span id="profile-token-display">0</span></p>
            <p><strong>My Referral Code:</strong> <span id="profile-referral-code-display">...</span></p>
            <p><strong>Total Referrals:</strong> <span id="profile-referral-count-display">0</span></p>
        </div>
        <div class="profile-section-block">
            <h3>Withdraw Tokens</h3>
            <input type="number" id="withdrawal-amount" placeholder="Amount (Min: 1000)" class="main-action-button">
            <select id="withdrawal-method" class="main-action-button">
                <option value="">-- Select Method --</option>
                <option value="upi">UPI</option>
                <option value="phonepe">PhonePe Number</option>
                <option value="googlepay">Google Pay Number</option>
                <option value="bank">Bank Account (Enter Details)</option>
            </select>
            <input type="text" id="withdrawal-details" placeholder="Enter UPI ID / Phone Number / Account Details" class="main-action-button">
            <button id="submit-withdrawal-button" class="main-action-button">Request Withdrawal</button>
            <p id="withdrawal-feedback" class="feedback"></p>
            <p style="font-size: 0.8em; color: #aaa; text-align: center; margin-top: 5px;">Requests are processed manually within 24-48 hours.</p>
        </div>
        <div class="profile-section-block">
             <h3>Account Actions</h3>
             <button id="change-password-button" class="main-action-button secondary">Change Password</button>
             <a href="mailto:support@example.com?subject=Support Request" class="main-action-button secondary"> <i class="fas fa-headset"></i> Contact Support</a> <!-- REPLACE EMAIL -->
             <a href="#" target="_blank" class="main-action-button secondary"> <i class="fas fa-question-circle"></i> FAQ & Help</a> <!-- REPLACE # with FAQ link -->
             <button id="logout-button-profile" class="main-action-button logout-button">Logout</button>
        </div>
    </section>

    <!-- Referral Section -->
    <section id="referralSection" class="content-section hidden">
         <!-- ... (Referral content remains the same) ... -->
         <div id="bannerAdReferral" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Referral)</p> </div>
        <h2>Refer & Earn</h2>
        <div class="profile-details" style="background-color: #1c1c1c;">
            <p><strong>Your Code:</strong> <span id="refer-code-display" style="color:#00ff88; font-weight: bold;">...</span></p>
            <p><strong>Referral Link:</strong> <span id="refer-link-display" style="color:#aaa; font-size: 0.9em; word-break: break-all;">Loading...</span></p>
             <p><strong>Total Referrals:</strong> <span id="referral-count-display" style="font-weight: bold; color: #fff;">0</span></p>
        </div>
        <button id="copy-referral-button" class="main-action-button" style="margin-top: 15px;">Copy Referral Link</button>
        <p style="margin-top: 20px; text-align: center; color: #ccc;"> Share your code! You get <strong style="color:#00ff88;">500</strong> tokens and your friend gets <strong style="color:#00ff88;">50</strong> tokens when they sign up using your code. </p>
    </section>

    <!-- Leaderboard Section -->
    <section id="leaderboardSection" class="content-section hidden">
         <!-- ... (Leaderboard content remains the same) ... -->
         <div id="bannerAdLeaderboard" class="ad-container banner-ad hidden"> <p>Banner Ad Area (Leaderboard)</p> </div>
        <h2>Referral Leaderboard</h2>
        <p style="text-align: center; color: #ccc;">Top earners by referrals:</p>
        <div id="leaderboard-list" class="leaderboard-display"> <p>Loading...</p> </div>
    </section>

    <!-- History Section (HTML still exists, but nav removed) -->
    <section id="historySection" class="content-section hidden">
         <!-- ... (History content remains the same) ... -->
         <div id="bannerAdHistory" class="ad-container banner-ad hidden"> <p>Banner Ad Area (History)</p> </div>
        <h2>Transaction History</h2>
        <div id="history-list" class="history-display"> <p>Loading history...</p> </div>
    </section>

    <!-- Bottom Navigation -->
    <nav id="bottomNav" class="hidden">
        <button id="nav-home"><i class="fas fa-home"></i><span>Home</span></button>
        <button id="nav-play-game"><i class="fas fa-gamepad"></i><span>Games</span></button>
        <button id="nav-refer"><i class="fas fa-share-alt"></i><span>Refer</span></button>
        <button id="nav-leaderboard"><i class="fas fa-trophy"></i><span>Rank</span></button>
        <button id="nav-profile-bottom"><i class="fas fa-user"></i><span>Profile</span></button>
    </nav>

    <script type="module" src="script.js"></script>

</body>
</html>
